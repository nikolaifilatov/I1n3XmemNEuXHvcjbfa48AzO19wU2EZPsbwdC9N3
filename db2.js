// const evro = 106.3;

// Союз-м
const sherst = 11.65;
const kiton = roundToMultiple(evro * 6.6, 10);// 
const comfort = 625;//////////////////????????????? удалено
const lanvin = roundToMultiple(evro * 25.72, 10);
const hope = roundToMultiple(evro * 8.34, 10);
const madagaskar = roundToMultiple(evro * 6.01, 10);
const infinity = roundToMultiple(evro * 34.75, 10);
const touch = roundToMultiple(evro * 30.48, 10);
const mod = 1590;///////////////??????????? удалено
const lana = 1625;///////////////?????????? удалено
const concept = roundToMultiple(evro * 5.82, 10);
const velutto = roundToMultiple(evro * 6.6, 10);
const premier = roundToMultiple(evro * 11.65, 10);
const tesla = roundToMultiple(evro * 14.75, 10);
const velvetLux = roundToMultiple(evro * 9.8, 10);
const santorini = roundToMultiple(evro * 22.33, 10);
const grand = roundToMultiple(evro * 9.61, 10);
const lambre = roundToMultiple(evro * 14.46, 10);
const atmosphera = roundToMultiple(evro * 20.87, 10);
const onix = roundToMultiple(evro * 12.62, 10);
const nergis = roundToMultiple(evro * 15.33, 10);
const magic = roundToMultiple(evro * 18.44, 10);
const oregon = roundToMultiple(evro * 7.57, 10);
const oregonRoyal = 700;///////////??????? удалено
const clarins = roundToMultiple(evro * 14.46, 10);
const loft = roundToMultiple(evro * 15.33, 10);
const sanRemo = roundToMultiple(evro * 9.61, 10);
const laguna = roundToMultiple(evro * 4.95, 10);
const mys = roundToMultiple(evro * 14.75, 10);
const tweed = roundToMultiple(evro * 33.67, 10);
const strong = roundToMultiple(evro * 33.67, 10);
const bloom = roundToMultiple(evro * 33.87, 10);
const mone = roundToMultiple(evro * 28.06, 10);
const arne = roundToMultiple(evro * 29.08, 10);


const evolution = roundToMultiple(evro * 41, 10);
const rio = roundToMultiple(evro * 47, 10);
const toscana = roundToMultiple(evro * 54, 10);
const loftKoja = roundToMultiple(evro * 59, 10);
const old = roundToMultiple(evro * 52, 10);
const x5 = roundToMultiple(evro * 40, 10);
const clubKoja = roundToMultiple(evro * 65, 10);
const cigar = roundToMultiple(evro * 54, 10);
const vintage = roundToMultiple(evro * 63, 10);
const lether = roundToMultiple(evro * 0, 10);



//вип текстиль
const cordroy = 1067;/////////?????????? удалено
const catania = roundToMultiple(evro * 9.41, 10);
const impulse = roundToMultiple(evro * 12.33, 10);
const saturn = 2125;//////////????????? удалено
const smile = roundToMultiple(evro * 22.23, 10);
const candy = roundToMultiple(evro * 8.83, 10);
const jeneva = roundToMultiple(evro * 17.86, 10);


//текстиль плюс
const joe = 902;///////////////??????? удалено
const calisto = roundToMultiple(evro * 10.42, 10);

//дом каро
const sunbrellaSolids = roundToMultiple(evro * 47, 10);

//колористика
const aquarelle = 860;//////////////???????? удалено
const romantika = 860;/////////////////???????? удалено
const flagman = roundToMultiple(evro * 15.53, 10);
const gravitacia = roundToMultiple(evro * 18.64, 10);
const fantazia = roundToMultiple(evro * 13.04, 10);
const era = roundToMultiple(evro * 11.02, 10);
const eskimo = roundToMultiple(evro * 20.03, 10);

//экстерио
const alcantaraShape = roundToMultiple(evro * 142, 10);
const verdura = roundToMultiple(evro * 93, 10);
const cuba = roundToMultiple(evro * 93, 10);
const oceanq2 = roundToMultiple(evro * 107, 10);
const harryq2 = roundToMultiple(evro * 107, 10);


//текстиль дата
const manhattan = roundToMultiple(evro * 24.85, 10);
const pixelUrus = roundToMultiple(evro * 47.86, 10);
const kandinsky = roundToMultiple(evro * 25.72, 10);
const bentleyPlain = roundToMultiple(evro * 54.07, 10);
const ocean = roundToMultiple(evro * 18.83, 10);
const jute = roundToMultiple(evro * 26.60, 10);
const club = roundToMultiple(evro * 22.33, 10);
const idol = roundToMultiple(evro * 40.48, 10);
const best = roundToMultiple(evro * 35.72, 10);
const step = roundToMultiple(evro * 19.70, 10);
const miss = roundToMultiple(evro * 22.33, 10);
const relax = roundToMultiple(evro * 78.25, 10);
const chanel = roundToMultiple(evro * 61.74, 10);


//аметист
const buckle = roundToMultiple(evro * 26.89, 10);
const medeya = roundToMultiple(evro * 38.83, 10);
const rain = roundToMultiple(evro * 13.78, 10);
const niagara = roundToMultiple(evro * 33.68, 10);


//арбэн
const ronaldo = roundToMultiple(evro * 66, 10);

//колми
const mystic = 5920;

//артефакт 
const nappa = roundToMultiple(evro * 66, 10);

//неофитос
const magia = roundToMultiple(evro * 40, 10);
const elain = roundToMultiple(evro * 15, 10);

//эгида
const terrazzo = roundToMultiple(evro * 25, 10);

//текстайл
const togo = roundToMultiple(evro * 23.7, 10);

//белведере
const jade = roundToMultiple(evro * 13.2, 10);
const jadeMaze = roundToMultiple(evro * 18.48, 10);
const burkley = roundToMultiple(evro * 14.75, 10);

//art vision home
const braid = roundToMultiple(evro * 21.74, 10);
const paddington = roundToMultiple(evro * 15.53, 10);
const soul = roundToMultiple(evro * 15.53, 10);
const antikvar = roundToMultiple(evro * 26.4, 10);
const mocka = roundToMultiple(evro * 18.64, 10);
const laska = roundToMultiple(evro * 13.98, 10);
const lazio = roundToMultiple(evro * 15.23, 10);



const foamM = new Map();
foamM.set('none', { name: 'none', cost: 0, index: 0 });
foamM.set('ST2536', { name: 'ST2536', cost: 525, index: 1 });
foamM.set('ST3040', { name: 'ST3040', cost: 625, index: 2 });
foamM.set('S2525', { name: 'S2525', cost: 565, index: 3 });
foamM.set('HR3535', { name: 'HR3535', cost: 866, index: 4 });
foamM.set('EL4060', { name: 'EL4060', cost: 878, index: 5 });
foamM.set('LR4010', { name: 'LR4010', cost: 1190, index: 6 });
foamM.set('LL5020', { name: 'LL5020', cost: 2304, index: 7 });
foamM.set('PVV100', { name: 'PVV100', cost: 2805, index: 8 });
foamM.set('Холлофайбер', { name: 'Холлофайбер', cost: 756, index: 9 });
foamM.set('Поролоновая крошка', { name: 'Поролоновая крошка', cost: 400, index: 10 });
foamM.set('Смесь крошки и холлофайбера', { name: 'Смесь крошки и холлофайбера', cost: 540, index: 11 });



const typeM = new Map();
typeM.set('none', { name: 'none', cap: 'none', index: 0 });
typeM.set('sid', { name: 'Сиденье (поролон) ', cap: 'Сиденье ', index: 1 });
typeM.set('sid_kroshka', { name: 'Сиденье (поролоновая крошка) ', cap: 'Сиденье ', index: 13 });
typeM.set('sid_kroshka_noBurlet', { name: 'Сиденье  без бурлета(поролоновая крошка) ', cap: 'Сиденье ', index: 14 });

typeM.set('sp_foam', { name: 'Спинка (поролон) ', cap: 'Спинка ', index: 2 });
typeM.set('sp_fiber', { name: 'Спинка (холлофайбер) ', cap: 'Спинка ', index: 3 });
typeM.set('sp_fiber_noBurlet', { name: 'Спинка без бурлета(холлофайбер) ', cap: 'Спинка ', index: 15 });
typeM.set('sp_kroshka', { name: 'Спинка (поролоновая крошка)  ', cap: 'Спинка ', index: 9 });
typeM.set('sp_kroshka_noBurlet', { name: 'Спинка без бурлета(поролоновая крошка) ', cap: 'Спинка ', index: 16 });
typeM.set('sp_smes', { name: 'Спинка (смесь крошки и холлофайбера)  ', cap: 'Спинка ', index: 11 });
typeM.set('sp_smes_noBurlet', { name: 'Спинка без бурлета(смесь крошки и холлофайбера) ', cap: 'Спинка ', index: 17 });

typeM.set('podlokotnik', { name: 'Подлокотник (поролон)  ', cap: 'Подлокотник ', index: 4 });
typeM.set('podlokotnik_kroshka', { name: 'Подлокотник (поролоновая крошка)  ', cap: 'Подлокотник ', index: 10 });
typeM.set('podlokotnik_krochka_noBurlet', { name: 'Подлокотник без бурлета(поролоновая крошка) ', cap: 'Подлокотник', index: 19 });
typeM.set('podlokotnik_smes', { name: 'Подлокотник (смесь крошки и холлофайбера) ', cap: 'Подлокотник', index: 12 });
typeM.set('podlokotnik_smes_noBurlet', { name: 'Подлокотник без бурлета(смесь крошки и холлофайбера) ', cap: 'Подлокотник', index: 18 });

typeM.set('dekorativnaya', { name: 'Декоративная подушка ', cap: 'Декоративная подушка ', index: 5 });
typeM.set('madagaskar', { name: ' "Мадагаскар" ', cap: 'Подушка "Мадагаскар" ', index: 6 });
typeM.set('aquarelle', { name: ' "Акварель" ', cap: 'Подушка "Акварель" ', index: 7 });
typeM.set('valik', { name: 'Валик  ', cap: 'Валик ', index: 8 });


const typeForPillowM = new Map(typeM);
typeForPillowM.delete('none');
typeForPillowM.delete('dekorativnaya');
typeForPillowM.delete('aquarelle');
typeForPillowM.delete('madagaskar');
typeForPillowM.delete('valik');









const fixM = new Map();
fixM.set('none', { name: 'none', index: 0, caption: 'Не нужно', count: 0, unit: 0, cost: 0, cap2: 'не нужно' });
fixM.set('antislide', { name: 'antislide', index: 1, caption: 'Антислайд', count: 1, unit: 'Пог.м.', cost: 1100, cap2: 'антислайд' });
fixM.set('velcro', { name: 'velcro', index: 2, caption: 'Установка ленты-липучки', count: 1, unit: 'Пог.м.', cost: 150, cap2: 'липучка' });
fixM.set('tape2x', { name: 'tape2x', index: 3, caption: 'Крепление к основанию', count: 2, unit: 'Шт', cost: 350, cap2: '2 хлястика на подушку' });
fixM.set('tape4x', { name: 'tape4x', index: 4, caption: 'Крепление к основанию', count: 4, unit: 'Шт', cost: 350, cap2: '4 хлястика на подушку' });
fixM.set('zavyazka2x', { name: 'zavyazka2x', index: 5, caption: 'Завязка', count: 2, unit: 'Шт', cost: 200, cap2: '2 завязки на подушку' });
fixM.set('zavyazka4x', { name: 'zavyazka4x', index: 6, caption: 'Завязка', count: 4, unit: 'Шт', cost: 200, cap2: '4 завязки на подушку' });


const trimM = new Map();
trimM.set('none', { name: 'none', index: 0, caption: 'Не нужно', unit: 'Подушка', cost: 0 });
trimM.set('singleString', { name: 'singleString', index: 1, caption: 'Отделка декоративной строчкой', unit: 'Подушка', cost: 100 });
trimM.set('doubleString', { name: 'doubleString', index: 2, caption: 'Отделка двойной строчкой', unit: 'Подушка', cost: 200 });
trimM.set('classic', { name: 'classic', index: 3, caption: 'Окантовка', unit: 'Подушка', cost: 200 });
trimM.set('loft', { name: 'loft', index: 4, caption: 'Окантовка лофт', unit: 'Подушка', cost: 250 });
trimM.set('fatKant', { name: 'fatKant', index: 5, caption: 'Отделка толстым кантом', unit: 'Подушка', cost: 300 });
trimM.set('vitoyShnur', { name: 'vitoyShnur', index: 6, caption: 'Отделка витым шнуром', unit: 'Подушка', cost: 350 });



const materialCost = {
    fiberCost: 507,
    zipCost: 52,
    zipLockCost: 52,
    zipInstallCost: 230,
    caseCoverCost: 580,
    fanera4mmCost: 1.2 * 671,
    fanera6mmCost: 1.2 * 937,
    fanera8mmCost: 1.2 * 1126,
    fanera10mmCost: 1.2 * 1385,
    fanera12mmCost: 1.2 * 1442,
    fanera15mmCost: 1.2 * 2321,
    fanera18mmCost: 1.2 * 2328,
    fanera21mmCost: 1.2 * 3200,
    mdfCost: 11100 * 1.2,
    kleyPaneli: 1.2 * 515,
    aselex100: 220,
    aselex200: 440,
    aselex300: 660,
    aselex400: 880,
    button: 20,
    velcro1: 190,
    velcro2: 190,
    podkladkaCost: 533,
}

const jobCost = {
    makeValikCover: 1170,
    makeValik: 390,
    makePillowMadagaskar: 3.6,
    makePillow: 7.3,
    makePillowAquarelleFoam: 4,
    makePillowAquarelleFiber: 4,
    makePillowCoverCut: 9,////////
    makePillowCoverSew: 7.15,
    makePillowCoverOverlock: 26,
    makeCaseCoverCutCost: 260,
    makeCaseCoverSewCost: 195,
    zamerPaneli: 5000,
    viezdBrigadi2m2: 4550,
    viezdBrigadiOver2m2: 13000,
    montajPaneli: 1300 * 1.2,
    makeSpotPaneli: 325 * 1.2,
    makeElectroPaneli: 975 * 1.2,
    mdfCut: 65 * 1.2,
    makePanelFrame: 98 * 1.2,
    makePanelsProjectM2: 390 * 1.2,
    makePanelM2_Design1: 7670,
    makePanelM2_Design1: 7670,
    dostavkaTkani: 500,
    installButton: 60,
    makeButton: 45,
    simleBedProject: 1000,
    hardBedProject: 5000,
}



class S {
    constructor(id, name, link, cost, seller, country, description, martindale, type, composition, sample, rapport = false, overlock = true) {
        this.id = id;
        this.name = name;
        this.linkName = name.replace(' ', '-').toLowerCase()
        this.linkToPage = '/material/' + link ;
        this.cost = cost;
        this.seller = seller;
        this.country = country;
        this.link = '../albom.html?f=' + this.id;
        this.previewImg = '../tkan/' + link + '/preview.jpg';
        // this.link = '../materiali/tkan-' + this.linkName + '.html'; 
        this.description = description;
        this.martindale = martindale;
        this.type = type;
        this.sostav = composition.split(';');
        this.composition = this.sostav.map((e) => {
            let t = e.split('-')
            return { name: t[0], value: t[1] + '%' }

        })
        this.sample = sample;
        this.rapport = rapport;
        this.overlock = overlock;
        this.typeEng = getAlbomEngName(this.type);
    }
}

const partnerName = {
    souzM:
        'Поставщик материала компания <a href="http://www.souz-m.ru" target="_blank"> Союз-М</a>. Один из крупнейших поставщиков России.',

    vipTextile:
        "Поставщик материала компания <a href='https://viptextil.ru' target='_blank'> VIP Текстиль </a>. Один из крупнейших поставщиков России.",

    coloristica:
        "Поставщик материала компания <a href='https://www.coloristica-home.ru' target='_blank'>Coloristica </a>. Модный интерьерный текстиль.",

    kolmiSkd:
        "Поставщик материала компания <a href='http://www.colmi-skd.com' target='_blank'>КОЛМИ-СКД</a>. ",

    artefact:
        "Поставщик материала компания <a href='https://www.artefakt-msk.com' target='_blank'>Артефакт</a>. ",

    textilePlus:
        "Поставщик материала компания <a href='http://textile.plus' target='_blank'>Textile Plus </a>. Ткани, адаптированные к требованиям нашего рынка.",

    neofitos:
        "Поставщик материала компания <a href='https://neofytos.ru' target='_blank'>NEOFYTOS</a>.",

    textileData:
        "Поставщик материала компания <a href='https://textiledata.ru' target='_blank'>TEXTILE DATA</a>.",
    domCaro:
        "Поставщик материала компания <a href='https://domcaro.ru' target='_blank'>DOM CARO</a>.",
    exterio:
        "Поставщик материала компания <a href='https://www.exterio.ru' target='_blank'>EXTERIO</a>. Экслюзивный поставщик ALCANTARA® в России и странах бывшего СНГ.",
    arben:
        "Поставщик материала компания <a href='https://galleria.ru' target='_blank'>Galleria Arben</a>. Интерьерные ткани",
    ametist:
        "Поставщик материала компания <a href='https://ametist-store.ru/catalog/materialy-dlya-mebeli/mebelnye-tkani/' target='_blank'>Аметист</a>. Материалы и комплектующие для мебели.",
    egida:
        "Поставщик материала компания <a href='https://egida.ru/ru/catalog/tkani' target='_blank'>Эгида</a>. Материалы и комплектующие для мебели.",
    texstyle:
        "Поставщик материала компания <a href='http://www.texstyle.su' target='_blank'>Texstyle</a>. Ткани для мебели и порьтьер.",
    belvedere:
        "Поставщик материала компания <a href='https://belvedere-t.com' target='_blank'>Belvedere</a>. Экспортер тканей из Германии.",
    artvision:
        "Поставщик материала компания <a href='https://https://artvision-home.ru' target='_blank'>ART VISION HOME</a>. Современные тренды и актуальные дизайнерские решения.",

}

//сокращения
const SOUZ = partnerName.souzM;
const VIP = partnerName.vipTextile;
const COL = partnerName.coloristica;
const EXTERIO = partnerName.exterio;
const KOLMI = partnerName.kolmiSkd;
const ART = partnerName.artefact;
const TP = partnerName.textilePlus;
const NF = partnerName.neofitos;
const DATA = partnerName.textileData;
const CARO = partnerName.domCaro;
const ARBEN = partnerName.arben;
const AMETIST = partnerName.ametist;
const EGIDA = partnerName.egida;
const TEXSTYLE = partnerName.texstyle;
const BELVEDERE = partnerName.belvedere;
const ARTVISION = partnerName.artvision;

const CHINA = 'Китай';
const TUR = 'Турция';
const GER = 'Германия';
const VEL = 'Велюр';
const ROG = 'Рогожка';
const SHIN = 'Шенилл';
const FL = 'Флок';
const JAKK = 'Жаккард';
const ZAM = 'Искусственная замша';
const KOJA = 'Натуральная кожа';
const KOJZAM = 'Искусственная кожа'; 
const BUSKLE = 'Букле';
const SUN = 'Рогожка';
const BAR = 'Бархат';
const pl = 'полиэстер';
const OVERLOCK_TRUE = true;
const OVERLOCK_FALSE = false;
const RAPPORT_TRUE = true;
const RAPPORT_FALSE = false;

const delikat = '<p> Деликатная стирка при температуре 30 градусов. Нельзя отжимать или перекручивать. </p>'


const l = (tkan) => {
    return `../materiali/${tkan}.html`;
}







function getMaterialById(id) {
    let obj = material.find(e => e.id == parseInt(id))
    return obj
}

function getMaterialByIdFromArray(array,id) {
    let foundItem = array.find(e => e.id == id)
    if (foundItem === undefined){
        console.error('Material not found. Used zeroObject.')
        return { id: -1000, name: 'unknown fabric', cost: 0 }
    }
    else {
        return foundItem
    }
}


function GS(name, str, arr) {
    return arr.map(e => {return{ img: str + e + '.jpg' ,name: name + e }});
}

function generateArrayIndexFromInterval(n, zero = true) {
    
    let ar = []
    for (let i = 1; i <= n; i++) {
        let s
        if (i < 10 && zero) { s = '0' + i } else { s = i.toString() }

        ar.push(s)
    }
    return ar
}







function getFoamFromIndex(index) {
    let o;
    foamM.forEach(element => {
        if (element.index == index) {
            o = element
        };

    })
    return o.name;
}


function getTrimFromIndex(index) {
    let o;
    trimM.forEach(element => {
        if (element.index == index) { o = element };
    })
    return o.name;
}


function getPillowTypeFromIndex(index) {
    let o;
    typeM.forEach(element => {
        if (element.index == index) { o = element };
    })
    return o.name;
}

function getPillowCaptionFromIndex(index) {
    let o;
    typeM.forEach(element => {
        if (element.index == index) { o = element };
    })
    return o.cap;
}


function getFixFromIndex(index) {
    let o;
    fixM.forEach(element => {
        if (element.index == index) { o = element }
    });
    return o.name;        
}

function getStr_000_Value(num) {
    let str = num.toString();
    while (str.length < 3) {
        str = '0' + str;
    }
    return str;
}

function getColorIndex(material, color) { 
    if(material=== undefined){
        return 0
    }
    let i = 0;
    material.sample.forEach((e,index)=>{
        if(e.name == color){
            i = index;
        }
    })
    if(i == 0){return 0}
    return i
}

function compare_price (a, b){ return a.cost - b.cost;}


// function updateColor(material) {


//     let element = document.querySelector('#selectFabrick_selectButton_').getAttribute('data-value')
//     let selectedMaterial = getMaterialByIdFromArray(material, element);


//     let materialLink = document.querySelector('#materialLink');
//     if (materialLink) {
//         materialLink.href = selectedMaterial.sample[0].parentPageUrl;
//         materialLink.querySelector('img').src = selectedMaterial.previewImg;

//         if (selectedMaterial.id == 19) {
//             materialLink.href = '';
//             materialLink.querySelector('img').src = '../tkan/19/preview.jpg';
//         }
//         if (selectedMaterial.id == 95) {
//             materialLink.href = '';
//             materialLink.querySelector('img').src = '../tkan/95/preview.jpg';
//         }
//         if (selectedMaterial.id == 96) {
//             materialLink.href = '';
//             materialLink.querySelector('img').src = '../tkan/96/preview.jpg';
//         }
//     }

//     let map = new Map();
//     selectedMaterial.sample.forEach(element => {
//         map.set(element.caption, new SuperSelectItem(element.caption, element.caption, element.img))
//     });
    
//     selectColor.updateMap(map);
//     document.querySelector('#selectColor_selectButton_').textContent = selectedMaterial.sample[0].name + ' ▼';
//     document.querySelector('#selectColor_selectButton_').setAttribute('data-value', selectedMaterial.sample[0].name)

// }

function getAlbomEngName(name) {
    switch (name) {
        case 'Рогожка': return 'rogojka'; break;
        case 'Велюр': return 'velur'; break;
        case 'Искусственная замша': return 'zamsha'; break;
        case 'Флок': return 'flok'; break;
        case 'Искусственная шерсть': return 'sherst'; break;
        case 'Жаккард': return 'jakkard'; break;
        case 'Шенилл': return 'shenill'; break;
        case 'Букле': return 'bukle'; break;
        case 'Бархат': return 'barhat'; break;
        case 'Непромокаемая ткань': return 'rogojka'; break;
        case 'Искусственная кожа': return 'kojzam'; break;
        case 'Натуральная кожа': return 'koja'; break;
        case 'Искусственный мех': return 'fur'; break;
        default: return 'all'; break;
    }
}




